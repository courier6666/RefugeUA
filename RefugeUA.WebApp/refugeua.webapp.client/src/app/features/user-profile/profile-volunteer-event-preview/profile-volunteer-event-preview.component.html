<div class="card volunteer-preview-card">
    <div class="card-body d-flex flex-column gap-2 m-2">
        <div class="d-flex justify-content-between align-items-start">
            <div>
                <h5 class="card-title text-custom-pale-yellow mb-1">{{ volunteerEvent.title }}</h5>
                <h6 class="card-subtitle text-muted text-custom-pale-yellow">
                    <span *ngIf="volunteerEvent.volunteerGroupTitle" class="text-custom-pale-yellow">
                        <strong>{{ volunteerEvent.volunteerGroup?.title }}</strong>
                    </span>
                </h6>
            </div>
            <div class="text-end">
                <span class="badge bg-custom-dark text-custom-yellow">
                    {{ volunteerEvent.volunteerEventType | volunteerEventTypeToString}}
                </span>
            </div>
        </div>

        <div class="pt-0 pb-2">
            @if(!this.volunteerEvent.isClosed)
            {
            <span class="badge float-start bg-custom-pale-green text-custom-lightest mt-0 fs-5">
                Відкрита
            </span>
            }
            @else {
            <span class="badge float-start bg-custom-dark-red text-custom-light-red mt-0 fs-5">
                Закрита
            </span>
            }

        </div>

        <p class="card-text">
            {{ shortContent }}
        </p>

        @if(this.volunteerEvent.address != null)
        {
        <div>
            <strong>Адреса:</strong>
            <app-address [address]="this.volunteerEvent.address"></app-address>
        </div>
        }

        <div>
            <p class="mb-1">Дата розміщення: {{ volunteerEvent.createdAt | date: 'mediumDate' }}</p>
        </div>

        <div>
            <strong>Проходить:</strong>
            <p class="mb-1">від {{this.volunteerEvent.startTime | date: 'longDate'}} - до
                {{this.volunteerEvent.endTime | date: 'longDate'}}</p>
        </div>

        <div>
            <h6>Організатори:</h6>
            <div class="d-flex flex-wrap gap-1">
                <span *ngFor="let organizer of volunteerEvent.organizers" class="badge bg-custom-dark">
                    {{ organizer.firstName }} {{ organizer.lastName }}
                </span>
            </div>
        </div>
        <div class="my-2 card-header-underline"></div>
        <div class="d-flex gap-2 justify-content-start">
            <a class="btn btn-custom" [routerLink]="['/volunteer', 'events', this.volunteerEvent.id, 'detail']"><i
                    class="fa-solid fa-eye me-1"></i>Переглянути</a>
            @if(this.fromPage == "mine")
            {
            @if(!this.volunteerEvent.isClosed)
            {
            <button class="btn btn-custom" (click)="this.onClosed()">
                <i class="fa-solid fa-lock"></i>
                Закрити подію
            </button>
            }
            @else{
            <button class="btn btn-custom" (click)="this.onOpen()">
                <i class="fa-solid fa-lock-open"></i>
                Відкрити подію
            </button>
            }
            }

            @if(this.isCloseStateLoading)
            {
            <div class="pt-1">
                <img src="assets/gif/loading.gif" width="20em" height="20em"
                    style="margin-left: auto; margin-right: auto;">
            </div>
            }

        </div>
    </div>
</div>